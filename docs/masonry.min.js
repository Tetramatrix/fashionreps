var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var p=0;return function(){return p<b.length?{done:!1,value:b[p++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var p="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return p?p.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var p,B=[];!(p=b.next()).done;)B.push(p.value);return B};
$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
(function(){function b(a,d,C,b,m,h,F,k){var c=this,g=d.find(".teaser"),n=C.attr("height");void 0==n&&300+e+"px";b.css("cursor","pointer");var r=a.scrollTop();$(this).delay(G).queue(function(C){if(!b.is(":animated")&&g.is(":not(:visible)")&&!q||!b.is(":animated")&&g.is(":not(:visible)")&&q&&r==a.scrollTop())b.css({height:n,position:"relative",top:-35-g.height()}),g.show(),h.unshift(d),b.animate({top:0}),$(c).delay(F,"task").queue("task",function(a){0!==k.morepics.length&&(d.find("div .cube").addClass("spin"),
a())}).dequeue("task"),$(c).delay(m).queue(function(a){for(;1<h.length;)E(h.pop());a()}).dequeue();C()}).dequeue()}function p(){return Object.keys(localStorage).reduce(function(a,d){var c={};return Object.assign({},a,(c[d]=localStorage.getItem(d),c))},{})}function B(){var c=$(this);if(!c.data("running")){c.data("running",!0);var d=a("#tx-charbeitsbeispiele-pi1 #singleview"),b=a("#container");1<l.length||0<w.length?(1<l.length?(url=l.pop(),url=l.pop(),w.push(url)):(url=w.pop(url),w=[]),d.css({opacity:"0.0",
position:"absolute",top:"-600px",height:"600px"}),a.getJSON(url,function(b){b&&d.empty().append(a("#singleviewTemplate").tmpl(b).css({visibility:"visible",position:"relative"})).animate({opacity:"1.0",top:"0px"},900,function(){c.data("running",!1)})})):(url=l.pop(),w=[],d.animate({opacity:"0.0",top:"-=600px"},900,function(){b.css({opacity:"0.0"}).animate({opacity:"1.0",top:"0px"},900,function(){l=[];c.data("running",!1)})}))}}function J(c){var d=$(this);if(!d.data("running")){var b=a("#container"),
n=a("#tx-charbeitsbeispiele-pi1 #singleview");a("#footer").remove();n.empty();d.data("running",!0);0==l.length&&0<w.length?(bak=w.pop(),l.push(bak),w.push(bak),l.push(c)):(l.push(c),console.log(l));b.animate({opacity:"0.0",top:"+=600px"},900,function(){a.getJSON(c,function(c){c&&n.css({position:"absolute",top:"-600px",height:"600px",left:"170px",width:K+"px"}).animate({opacity:"1.0",top:L+"px",left:"170px"},900,function(){d.data("running",!1)}).append(a("#singleviewTemplate").tmpl(c).css({visibility:"visible",
position:"relative"})).find("#bbtn").click(function(a){a.stopPropagation();H()})})})}}function D(c,d,C){var n=a("#tx-charbeitsbeispiele-pi1 #container"),m=a("#tx-charbeitsbeispiele-pi1 #date"),h=y=0;a.each(c.reverse(),function(c,k){h<new Date(k.date)&&(h=new Date(k.date),console.log(h),m.text("Last update: "+k.date));var f="Append"==k.Additem&&"true"==k.Isimage?void 0===d?"#addBrickTemplate":f:"Append"==k.Additem?"#defaultTemplate":"Prepend"==k.Additem&&"true"==k.Isimage?void 0===d?"#addBrickTemplate":
d:"#defaultTemplate",g=a(f).tmpl(k).css({display:"block"});cube=g.find(".cube");if(0<k.morepics.length){f=["right","back","left"];c=0;for(key in f){var F=void 0!=k.morepics[c]?Object({className:f[key],pic:"https://"+k.morepics[c],width:300+e+"px",height:300+e+"px"}):Object({className:f[key],pic:"https://"+k.Image,width:300+e+"px",height:300+e+"px"});cube.append(a("#cubeTemplate").tmpl(F));++c}f=(300+e)/2+"px";cube.css({height:300+e,width:300+e,"transform-origin":f+" "+f+" 0px","-webkit-transform-origin":f+
" "+f+" 0px","-ms-transform-origin":f+" "+f+" 0px"});cube.find(".front").css({transform:"transform: translateZ("+f+")","-ms-transform":"transform: translateZ("+f+")","-webkit-transform":"transform: translateZ("+f+")"});cube.find(".back").css({transform:"rotateY(180deg) translateZ("+f+")","-ms-transform":"rotateY(180deg) translateZ("+f+")","-webkit-transform":"rotateY(180deg) translateZ("+f+")"});cube.find(".right").css({transform:"rotateY(90deg) translateZ("+f+")","-ms-transform":"rotateY(90deg) translateZ("+
f+")","-webkit-transform":"rotateY(90deg) translateZ("+f+")"});cube.find(".left").css({transform:"rotateY(-90deg) translateZ("+f+")","-ms-transform":"rotateY(-90deg) translateZ("+f+")","-webkit-transform":"rotateY(-90deg) translateZ("+f+")"})}var r=g.find("img"),l=g.find(">div");r.lazy({scrollDirection:"vertical",effect:"fadeIn",visibleOnly:!0,threshold:40,skip_invisible:!1,autoDestroy:!0,chainable:!1,onError:function(a){console.log("error loading "+a.data("src"))},beforeLoad:function(a){console.log("lazy before")},
afterLoad:function(c){console.log("lazy after");c.css({opacity:"0.0"}).animate({opacity:"1.0"},900);++y;4<y&&a("#tx-charbeitsbeispiele-pi1 #menu").slideDown("slow")},onFinishedAll:function(){console.log("lazy loaded")}});void 0==C?n.prepend(g):n.append(g);q?(g.width(g.width()+e),g.height(g.height()+e),l.each(function(){$(this).width($(this).width()+e);$(this).height($(this).height()+e)}),g.find("div .teaser").each(function(){$(this).width($(this).width()+e)}),g.find("h3").each(function(){$(this).width($(this).width()+
e)}),g.find("hr").each(function(){$(this).width($(this).width()+e)}),g.find("p").each(function(){$(this).width($(this).width()+e)}),r.css({height:300+e,width:300+e}),r.height(300+e).width(300+e)):(f=r.attr("height"),void 0==f?l.css({height:300+e+"px"}):l.css({height:f}));n.masonry("reload");var p=0;g.find("a").click({param1:k},function(c){c.stopPropagation();"+"==this.innerText?(c.data.param1.Headline+=" ",localStorage.setItem("TLF!"+c.data.param1.uid,JSON.stringify(c.data.param1))):"-"==this.innerText&&
(localStorage.removeItem("TLF!"+c.data.param1.uid),a(".brick").filter(function(){return a(this).find("h3")[0].textContent==c.data.param1.Headline}).remove(),n.masonry("reload"))});g.bind({"oanimationend animationend webkitAnimationEnd":function(a){console.log("animate end");g.find("div .cube").removeClass("spin")},"touchstart mouseenter":function(a){console.log("touchstart mouseenter");M=void 0!==a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].clientX:a.clientX;q&&0===k.morepics.length?
b(n,g,r,l,z,u,900,k):q||b(n,g,r,l,z,u,900,k)},click:function(c){c.stopPropagation();0==p?(p=(new Date).getTime(),0==q?(p=0,window.open(k.Link)):a("#nav_mobi_bar").hasClass("nav_toggle")&&(a("#nav_mobi_bar").removeClass("nav_toggle"),a("#nav").animate({opacity:"1.0",left:-190},300),a("#container").animate({opacity:"1.0",left:"0px"},300))):900>(new Date).getTime()-p?(console.log("double clicked"),1==q&&(p=0,window.open(k.Link))):p=(new Date).getTime();return!1},"touchend mouseleave":function(a){N=void 0!==
a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].clientX:a.clientX;a=M-N;console.log(a);q&&55<a&&0<k.morepics.length?(console.log("swipe right"),mycube=g.find("div .cube"),mycube.hasClass("rot360r")&&(mycube.removeClass("rot90r rot180r rot270r rot360r"),b(n,g,r,l,z,u,900,k)),mycube.hasClass("rot360l")?(mycube.removeClass("rot90l rot180l rot270l rot360l"),mycube.addClass("rot90r")):mycube.hasClass("rot270l")?(mycube.removeClass("rot90l rot180l rot270l rot360l"),mycube.addClass("rot180r")):
mycube.hasClass("rot180l")?(mycube.removeClass("rot90l rot180l rot270l rot360l"),mycube.addClass("rot270r")):mycube.hasClass("rot90l")?(mycube.removeClass("rot90l rot180l rot270l rot360l"),mycube.addClass("rot360r")):mycube.hasClass("rot90r")?mycube.hasClass("rot180r")?mycube.hasClass("rot270r")?mycube.hasClass("rot360r")||mycube.addClass("rot360r"):mycube.addClass("rot270r"):(E(u.pop()),mycube.addClass("rot180r")):mycube.addClass("rot90r")):q&&-55>a&&0<k.morepics.length?(console.log("swipe left"),
mycube=g.find("div .cube"),mycube.hasClass("rot360l")&&mycube.removeClass("rot90l rot180l rot270l rot360l"),mycube.hasClass("rot360r")?(mycube.removeClass("rot90r rot180r rot270r rot360r"),mycube.addClass("rot90l")):mycube.hasClass("rot270r")?(mycube.removeClass("rot90r rot180r rot270r rot360r"),mycube.addClass("rot180l")):mycube.hasClass("rot180r")?(mycube.removeClass("rot90r rot180r rot270r rot360r"),mycube.addClass("rot270l")):mycube.hasClass("rot90r")?(mycube.removeClass("rot90r rot180r rot270r rot360r"),
mycube.addClass("rot360l")):mycube.hasClass("rot90l")?mycube.hasClass("rot180l")?mycube.hasClass("rot270l")?mycube.hasClass("rot360l")||mycube.addClass("rot360l"):mycube.addClass("rot270l"):(E(u.pop()),mycube.addClass("rot180l")):(b(n,g,r,l,z,u,900,k),mycube.addClass("rot90l"))):q&&0===k.morepics.length&&b(n,g,r,l,z,u,900,k);$(this).delay(G).queue(function(a){(q&&1<u.length||!q)&&E(u.pop());a()}).dequeue()}})});return!1}function O(c){a("#tx-charbeitsbeispiele-pi1 #menu li").click(function(){Pace.restart();
var d=a(this).find("a").text();console.log(d);if("About Us"==d||0<c.url_stack().length){console.log(c.url_stack());if(0==c.url_stack().length){window.scrollTo({top:0,behavior:"smooth"});d=$("#tx-charbeitsbeispiele-pi1 #menu li")[1];$(d).removeClass("ref_no").addClass("ref_act");var b=$(d).find("a").attr("href").replace(/\?toggle=.*/g,"");$(d).find("a").attr("href",b+"?toggle=on");J(a(this).find("a").attr("href"))}else H();return!1}if("My haul"==d){var n=p();arr=[];Object.keys(n).forEach(function(a){a.startsWith("TLF!")&&
arr.push(JSON.parse(n[a]))});a("#footer").remove();b=a("#tx-charbeitsbeispiele-pi1 #container");b.masonry();d=this.innerHTML.match(/toggle=on/g);var e=this.innerHTML.match(/screen=clear/g);y=0;e&&(m=[],b.empty());d?(window.scrollTo({top:0,behavior:"smooth"}),D(arr,"#minusBrickTemplate"),b.trigger("scroll")):(a.each(arr.reverse(),function(c,b){a(".brick").filter(function(){return a(this).find("h3")[0].textContent==b.Headline}).remove()}),b.masonry("reload"))}else a.getJSON(a(this).find("a").attr("href"),
function(c){if(c&&c.length){a("#footer").remove();var b=a("#tx-charbeitsbeispiele-pi1 #container");b.masonry();var d=this.url.match(/toggle=on/g),h=this.url.match(/screen=clear/g);y=0;h&&(A=m=[],b.empty());0==Object.keys(A).length&&(t=39,x=10);0===m.length?A[this.url.substr(0,10)]=m=c:(m.push.apply(m,$jscomp.arrayFromIterable(c)),A[this.url.substr(0,10)]=c);d?(39==t?(window.scrollTo({top:0,behavior:"smooth"}),D(c.slice(0,t))):D(c.slice(0,t),"#addBrickTemplate","append"),m.length>t?(m=m.slice(I,m.length),
I=0,t=x):m=[],b.trigger("scroll")):(a.each(A[this.url.substr(0,10)].reverse(),function(c,b){m=m.filter(function(a){return a.Headline!==b.Headline});a(".brick").filter(function(){return a(this).find("h3")[0].textContent==b.Headline}).remove()}),delete A[this.url.substr(0,10)],b.masonry("reload"))}else return!1})})}function P(c){a(window).unload(function(){var c=a("#tx-charbeitsbeispiele-pi1 #menu li:first").find("a"),b=c.attr("href").replace(/\?toggle=.*/g,"");c.attr("href",b+"&screen=reload");a.get(c.attr("href"),
function(a){})});a("#tx-charbeitsbeispiele-pi1 #container").masonry({itemSelector:".brick",columnWidth:300+e+10,isAnimated:!Modernizr.csstransitions,animationOptions:{duration:500,easing:"linear",queue:!1}});a("#nav_mobi_bar").click(function(){a(this).hasClass("nav_toggle")?(a(this).removeClass("nav_toggle"),a("#nav").animate({opacity:"1.0",left:-190},300),a("#container").animate({opacity:"1.0",left:"0px"},300)):(a(this).addClass("nav_toggle"),a("#nav").animate({opacity:"1.0",left:0},300),a("#container").animate({opacity:"1.0",
left:170},300),a("#tx-charbeitsbeispiele-pi1 #menu").slideDown("slow"))});var b=a("#tx-charbeitsbeispiele-pi1 #menu li");b.hover(function(){a(this).hasClass("ref_no")&&a(this).removeClass("ref_no").addClass("ref_hover")},function(){a(this).hasClass("ref_hover")&&(a(this).hasClass("ref_act")?a(this).removeClass("ref_hover"):a(this).removeClass("ref_hover").addClass("ref_no"))});b.toggle(function(){if(0==c.url_stack().length){var d=a(this).find("a").text();"Home"==d&&(a("#tx-charbeitsbeispiele-pi1 #container").empty(),
a.each(b,function(c,b){if("Home"!=a(b).find("a").text()){a(b).removeClass("ref_act").addClass("ref_no");var d=a(b).find("a").attr("href").replace(/\?toggle=.*/g,"");a(b).find("a").attr("href",d+"?toggle=off")}else a(b).removeClass("ref_no").addClass("ref_act"),d=a(b).find("a").attr("href").replace(/\?toggle=.*/g,""),a(b).find("a").attr("href",d+"?toggle=on")}));var e="?toggle=on";a.each(b,function(c,b){if(a(b).find("a").text()==d){e+="&btn="+d;a(b).removeClass("ref_no").addClass("ref_act");var h=
a(b).find("a").attr("href").replace(/\?toggle=.*/g,"");a(b).find("a").attr("href",h+e)}else"Home"==a(b).find("a").text()&&"About Us"!=d&&a(b).hasClass("ref_act")&&(e+="&screen=clear",a(b).removeClass("ref_act").addClass("ref_no"),h=a(b).find("a").attr("href").replace(/\?toggle=.*/g,""),a(b).find("a").attr("href",h+"?toggle=off"))});a(this).trigger("mouseleave touchend")}},function(){var c=a(this).find("a").text();if("Home"!=c){var d="?toggle=off";a.each(b,function(b,h){if(a(h).find("a").text()==c)if(a(h).hasClass("ref_no")){a(h).removeClass("ref_no").addClass("ref_act");
var e=a(h).find("a").attr("href").replace(/\?toggle=.*/g,"");a(h).find("a").attr("href",e+"?toggle=on&screen=clear")}else a(h).removeClass("ref_act").addClass("ref_no"),e=a(h).find("a").attr("href").replace(/\?toggle=.*/g,""),a(h).find("a").attr("href",e+d);a(h).hasClass("ref_act")&&"Home"==a(h).find("a").text()&&"My haul"!=c&&"About Us"!=c&&(d+="&screen=clear",a(h).removeClass("ref_act").addClass("ref_no"),e=a(h).find("a").attr("href").replace(/\?toggle=.*/g,""),a(h).find("a").attr("href",e+"?toggle=off"))})}else"Home"==
c&&a.each(b,function(b,c){if("Home"==a(c).find("a").text()){a(this).removeClass("ref_no").addClass("ref_act");var d=a(this).find("a").attr("href").replace(/\?toggle=.*/g,"");a(this).find("a").attr("href",d+"?toggle=on")}else"Home"!=a(c).find("a").text()&&(a(c).removeClass("ref_act").addClass("ref_no"),d=a(c).find("a").attr("href").replace(/\?toggle=.*/g,""),a(c).find("a").attr("href",d+"?toggle=off"))});a(this).trigger("mouseleave touchend")});a.getJSON(a("#tx-charbeitsbeispiele-pi1 #menu li:first").find("a").attr("href"),
Q)}function Q(c,b,l){console.log(l.getAllResponseHeaders());console.log(l.getResponseHeader("Last-Modified"));c&&c.length&&(m=c,window.scrollTo({top:0,behavior:"smooth"}),b=a("#tx-charbeitsbeispiele-pi1 #container"),b.masonry({itemSelector:".brick",columnWidth:300+e+10,isAnimated:!Modernizr.csstransitions,animationOptions:{duration:500,easing:"linear",queue:!1}}),y=0,D(c.slice(0,t)),b.trigger("scroll"),c=a("#tx-charbeitsbeispiele-pi1 #menu li:first"),c.removeClass("ref_no").addClass("ref_act"),b=
c.find("a").attr("href").replace(/\?toggle=.*/g,""),c.find("a").attr("href",b+"?toggle=off"))}function H(){var a=$("#tx-charbeitsbeispiele-pi1 #menu li")[1];$(a).removeClass("ref_act").addClass("ref_no");var b=$(a).find("a").attr("href").replace(/\?toggle=.*/g,"");$(a).find("a").attr("href",b+"?toggle=off");B()}function E(b){var c=a(b).find(">div"),e=a(b).find(".teaser");c.animate({top:-35-e.height()},function(){c.css({position:"static"});e.hide()})}function v(b){a=b;/Mobi|Android/i.test(navigator.userAgent)&&
(q=!0);1==q?(a("#nav").addClass("mobi_nav"),a("#nav").css({zIndex:100,"margin-top":"42px"}),a("#nav_mobi_bar").removeClass("nav_hid"),a("#container").addClass("mobi_container"),a("#container").css({"margin-top":"42px"}),a("#ads-right").remove(),a("#tx-charbeitsbeispiele-pi1").addClass("mobi_plugin"),a("#nav_logo").addClass("nav_hid"),a("#footer").css({"margin-left":"0px"}),a("#container").removeClass("ui-draggable"),e=$(window).width()-300,K=$(window).width()-190,L+=40,t=2,x=1,I=t+1):z=G=e=0;return!0}
var a,y=0,u=[],l=[],w=[],q=!1,e=0,K=550,L=20,G=300,z=2900,M,N,m,A=[],t=39,x=10,I=t+1;v.prototype.resize=function(b){console.log("resize");x=2*Math.floor(a("#container").width()/300);console.log(x)};v.prototype.infiniteScroll=function(b){a(window).scrollTop()+window.innerHeight>=document.body.scrollHeight-100&&void 0!==b.eventPhase&&(console.log("Add something at the end of the page"),console.log(a(window).scrollTop()),console.log(a(document).height()-$(window).height()-10),0<m.length&&(D(m.slice(0,
x),"#addBrickTemplate","append"),m=m.slice(x+1,m.length)))};v.prototype.singleview=function(a,b){return J(a,b)};v.prototype.gridview=function(){return B()};v.prototype.ajax=function(a){return O(a)};v.prototype.reload=function(a){return P(a)};v.prototype.bbtn=function(){return H()};v.prototype.url_stack=function(){return l};window.Arbeitsbeispiele=v})();var tlf,$=jQuery.noConflict();
$(document).ready(function(){tlf=new Arbeitsbeispiele($);tlf.reload(tlf);tlf.ajax(tlf);window.scrollTo({top:0});$(window).on("scroll",function(b){tlf.infiniteScroll(b)});$(window).on("touchmove",function(b){tlf.infiniteScroll(b)});$("html,body").bind("touchmove",function(b){tlf.infiniteScroll(b)});$(window).on("resize",function(b){tlf.resize(b)});$("#footer").find("img").lazy({scrollDirection:"vertical",effect:"fadeIn",visibleOnly:!0,threshold:40,skip_invisible:!1,autoDestroy:!0,chainable:!1,onError:function(b){console.log("error loading "+
b.data("src"))},beforeLoad:function(b){console.log("lazy before")},afterLoad:function(b){console.log("lazy after");b.css({opacity:"0.0"}).animate({opacity:"1.0"},900)},onFinishedAll:function(){console.log("lazy loaded")}});paceOptions={elements:{trackMethods:["GET","POST","PUT","DELETE","REMOVE"],restartOnRequestAfter:5}}});